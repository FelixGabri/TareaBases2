<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movimientos del Empleado</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background-color: white;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e0e0;
        }

        h1 {
            text-align: center;
            margin-bottom: 1rem;
            color: #333;
        }

        .employee-info {
            text-align: center;
            margin-bottom: 2rem;
            color: #666;
            font-size: 1.1rem;
        }

        .movements-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 2rem;
        }

        .movements-table th,
        .movements-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .movements-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #333;
        }

        .movements-table tr:hover {
            background-color: #f8f9fa;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #545b62;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: #666;
        }

        .no-data {
            text-align: center;
            padding: 2rem;
            color: #666;
            font-style: italic;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1rem;
            color: #ff69b4;
            text-decoration: none;
            cursor: pointer;
        }

        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function Movimientos() {
            const [employee, setEmployee] = useState(null);
            const [movimientos, setMovimientos] = useState([]);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                // Obtener ID del empleado de la URL
                const urlParams = new URLSearchParams(window.location.search);
                const employeeId = urlParams.get('id');

                if (!employeeId) {
                    setLoading(false);
                    return;
                }

                // Simular carga de datos del empleado
                setTimeout(() => {
                    // Datos de ejemplo del empleado 
                    const employeesData = {
                        '1': { id: 1, nombre: 'Juan Pérez', cedula: '123456789' },
                        '2': { id: 2, nombre: 'María García', cedula: '987654321' },
                        '3': { id: 3, nombre: 'Carlos López', cedula: '456123789' }
                    };

                    const employeeData = employeesData[employeeId];
                    if (employeeData) {
                        setEmployee(employeeData);
                    }

                    // Array vacío 
                    setMovimientos([]);
                    setLoading(false);
                }, 1000);
            }, []);

            const goBack = () => {
                window.close(); // Cierra esta ventana y regresa a la anterior
            };

            if (loading) {
                return React.createElement('div', { className: 'container' },
                    React.createElement('div', { className: 'loading' }, 'Cargando movimientos...')
                );
            }

            if (!employee) {
                return React.createElement('div', { className: 'container' },
                    React.createElement('h1', null, 'Empleado no encontrado'),
                    React.createElement('button', { 
                        className: 'btn btn-secondary',
                        onClick: goBack
                    }, 'Cerrar')
                );
            }

            return React.createElement('div', { className: 'container' },
                React.createElement('a', { 
                    className: 'back-link',
                    onClick: goBack
                }, '← Cerrar'),
                
                React.createElement('h1', null, 'Movimientos del Empleado'),
                React.createElement('div', { className: 'employee-info' },
                    `${employee.nombre} - Cédula: ${employee.cedula}`
                ),

                // Tabla de movimientos - VACÍA
                React.createElement('table', { className: 'movements-table' },
                    React.createElement('thead', null,
                        React.createElement('tr', null,
                            React.createElement('th', null, 'Fecha'),
                            React.createElement('th', null, 'Tipo'),
                            React.createElement('th', null, 'Descripción'),
                            React.createElement('th', null, 'Monto'),
                            React.createElement('th', null, 'Estado')
                        )
                    ),
                    React.createElement('tbody', null,
                        movimientos.length > 0 ? (
                            movimientos.map(movimiento =>
                                React.createElement('tr', { key: movimiento.id },
                                    React.createElement('td', null, movimiento.fecha),
                                    React.createElement('td', null, movimiento.tipo),
                                    React.createElement('td', null, movimiento.descripcion),
                                    React.createElement('td', null, movimiento.monto),
                                    React.createElement('td', null, movimiento.estado)
                                )
                            )
                        ) : (
                            React.createElement('tr', null,
                                React.createElement('td', { 
                                    colSpan: '5', 
                                    style: { textAlign: 'center', padding: '2rem' } 
                                }, 'No hay movimientos registrados para este empleado')
                            )
                        )
                    )
                ),

                // Botón para cerrar
                React.createElement('div', { style: { textAlign: 'center' } },
                    React.createElement('button', { 
                        className: 'btn btn-secondary',
                        onClick: goBack
                    }, 'Cerrar Ventana')
                )
            );
        }

        // Renderizar la aplicación
        ReactDOM.render(React.createElement(Movimientos), document.getElementById('root'));
    </script>
</body>
</html>